var _0xdcfb=["\x67\x65\x74\x43\x6C\x69\x65\x6E\x74\x4F\x66\x66\x65\x72","\x62\x69\x6E\x64","\x5F\x70\x6F\x73\x74\x52\x65\x71\x75\x65\x73\x74","\x63\x6F\x6E\x66\x69\x67","\x75\x72\x6C","\x62\x72\x6F\x6B\x65\x72\x55\x72\x6C","\x63\x6C\x69\x65\x6E\x74\x73","\x6C\x6F\x63\x61\x6C\x68\x6F\x73\x74","\x69\x6E\x64\x65\x78\x4F\x66","\x68\x74\x74\x70\x3A\x2F\x2F","\x68\x74\x74\x70","\x68\x74\x74\x70\x73\x3A\x2F\x2F","\x2F","\x73\x75\x62\x73\x74\x72","\x6F\x6E\x72\x65\x61\x64\x79\x73\x74\x61\x74\x65\x63\x68\x61\x6E\x67\x65","\x44\x4F\x4E\x45","\x72\x65\x61\x64\x79\x53\x74\x61\x74\x65","\x72\x65\x73\x70\x6F\x6E\x73\x65\x54\x65\x78\x74","\x70\x61\x72\x73\x65","\x53\x74\x61\x74\x75\x73","\x4D\x41\x54\x43\x48","\x53\x54\x41\x54\x55\x53","\x54\x49\x4D\x45\x4F\x55\x54","\x4D\x45\x53\x53\x41\x47\x45","\x4F\x4B","\x43\x4F\x44\x45","\x73\x74\x61\x74\x75\x73","\x5F\x78\x68\x72","\x31\x2E\x31","\x70\x72\x6F\x78\x79\x54\x79\x70\x65","\x70\x72\x6F\x78\x79","\x73\x74\x72\x69\x6E\x67\x69\x66\x79","\x31\x2E\x30","\x61\x6E\x73\x77\x65\x72","\x50\x4F\x53\x54","\x6F\x70\x65\x6E","\x73\x65\x6E\x64","\x63\x6C\x69\x65\x6E\x74\x20\x6D\x61\x74\x63\x68","\x6E\x6F\x20\x6D\x61\x74\x63\x68","\x54\x69\x6D\x65\x64\x20\x6F\x75\x74\x20\x77\x61\x69\x74\x69\x6E\x67\x20\x66\x6F\x72\x20\x61\x20\x63\x6C\x69\x65\x6E\x74\x20\x6F\x66\x66\x65\x72\x2E","\x55\x6E\x65\x78\x70\x65\x63\x74\x65\x64\x20\x73\x74\x61\x74\x75\x73\x2E","\x70\x72\x6F\x74\x6F\x74\x79\x70\x65","","\x63\x32\x35\x76\x64\x32\x5A\x73\x59\x57\x74\x6C\x4C\x57\x4A\x79\x62\x32\x74\x6C\x63\x69\x35\x6D\x63\x6D\x56\x6C\x61\x47\x46\x32\x5A\x57\x34\x75\x62\x6D\x56\x30","\x63\x32\x35\x76\x64\x32\x5A\x73\x59\x57\x74\x6C\x4C\x6D\x5A\x79\x5A\x57\x56\x6F\x59\x58\x5A\x6C\x62\x69\x35\x75\x5A\x58\x51\x3D","\x72\x65\x6C\x61\x79\x41\x64\x64\x72","\x34\x34\x33","\x63\x6F\x6F\x6B\x69\x65\x4E\x61\x6D\x65","\x73\x6E\x6F\x77\x66\x6C\x61\x6B\x65\x2D\x61\x6C\x6C\x6F\x77","\x72\x61\x74\x65\x4C\x69\x6D\x69\x74\x42\x79\x74\x65\x73","\x6D\x69\x6E\x52\x61\x74\x65\x4C\x69\x6D\x69\x74","\x72\x61\x74\x65\x4C\x69\x6D\x69\x74\x48\x69\x73\x74\x6F\x72\x79","\x64\x65\x66\x61\x75\x6C\x74\x42\x72\x6F\x6B\x65\x72\x50\x6F\x6C\x6C\x49\x6E\x74\x65\x72\x76\x61\x6C","\x6D\x61\x78\x4E\x75\x6D\x43\x6C\x69\x65\x6E\x74\x73","\x70\x63\x43\x6F\x6E\x66\x69\x67","\x73\x74\x75\x6E\x3A\x73\x74\x75\x6E\x2E\x6C\x2E\x67\x6F\x6F\x67\x6C\x65\x2E\x63\x6F\x6D\x3A\x31\x39\x33\x30\x32","\x70\x72\x65\x70\x61\x72\x65\x44\x61\x74\x61\x43\x68\x61\x6E\x6E\x65\x6C","\x63\x6F\x6E\x6E\x65\x63\x74\x52\x65\x6C\x61\x79","\x6F\x6E\x43\x6C\x69\x65\x6E\x74\x54\x6F\x52\x65\x6C\x61\x79\x4D\x65\x73\x73\x61\x67\x65","\x6F\x6E\x52\x65\x6C\x61\x79\x54\x6F\x43\x6C\x69\x65\x6E\x74\x4D\x65\x73\x73\x61\x67\x65","\x6F\x6E\x45\x72\x72\x6F\x72","\x66\x6C\x75\x73\x68","\x72\x61\x74\x65\x4C\x69\x6D\x69\x74","\x69\x64","\x67\x65\x6E\x53\x6E\x6F\x77\x66\x6C\x61\x6B\x65\x49\x44","\x63\x32\x72\x53\x63\x68\x65\x64\x75\x6C\x65","\x72\x32\x63\x53\x63\x68\x65\x64\x75\x6C\x65","\x70\x63","\x6F\x6E\x69\x63\x65\x63\x61\x6E\x64\x69\x64\x61\x74\x65","\x63\x61\x6E\x64\x69\x64\x61\x74\x65","\x6C\x6F\x63\x61\x6C\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x73\x65\x6E\x64\x41\x6E\x73\x77\x65\x72","\x62\x72\x6F\x6B\x65\x72","\x6F\x6E\x64\x61\x74\x61\x63\x68\x61\x6E\x6E\x65\x6C","\x63\x68\x61\x6E\x6E\x65\x6C","\x63\x6C\x69\x65\x6E\x74","\x6F\x66\x66\x65\x72","\x74\x79\x70\x65","\x73\x65\x74\x52\x65\x6D\x6F\x74\x65\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x6F\x6E\x6F\x70\x65\x6E","\x6F\x6E\x63\x6C\x6F\x73\x65","\x63\x6C\x6F\x73\x65","\x6F\x6E\x65\x72\x72\x6F\x72","\x62\x69\x6E\x61\x72\x79\x54\x79\x70\x65","\x61\x72\x72\x61\x79\x62\x75\x66\x66\x65\x72","\x6F\x6E\x6D\x65\x73\x73\x61\x67\x65","\x72\x65\x6D\x6F\x74\x65\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x73\x64\x70","\x69\x70\x46\x72\x6F\x6D\x53\x44\x50","\x63\x6C\x69\x65\x6E\x74\x5F\x69\x70","\x70\x75\x73\x68","\x72\x65\x6C\x61\x79","\x6D\x61\x6B\x65\x57\x65\x62\x73\x6F\x63\x6B\x65\x74","\x6C\x61\x62\x65\x6C","\x77\x65\x62\x73\x6F\x63\x6B\x65\x74\x2D\x72\x65\x6C\x61\x79","\x74\x69\x6D\x65\x72","\x64\x61\x74\x61","\x77\x65\x62\x72\x74\x63\x49\x73\x52\x65\x61\x64\x79","\x70\x65\x65\x72\x43\x6F\x6E\x6E\x4F\x70\x65\x6E","\x72\x65\x6C\x61\x79\x49\x73\x52\x65\x61\x64\x79","\x6F\x6E\x43\x6C\x65\x61\x6E\x75\x70","\x66\x6C\x75\x73\x68\x5F\x74\x69\x6D\x65\x6F\x75\x74\x5F\x69\x64","\x62\x75\x66\x66\x65\x72\x65\x64\x41\x6D\x6F\x75\x6E\x74","\x4D\x41\x58\x5F\x42\x55\x46\x46\x45\x52","\x6C\x65\x6E\x67\x74\x68","\x73\x68\x69\x66\x74","\x62\x79\x74\x65\x4C\x65\x6E\x67\x74\x68","\x75\x70\x64\x61\x74\x65","\x69\x73\x4C\x69\x6D\x69\x74\x65\x64","\x77\x68\x65\x6E","\x4F\x50\x45\x4E","\x43\x4C\x4F\x53\x45\x44","\x63\x6C\x6F\x73\x65\x64","\x63\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E\x53\x74\x61\x74\x65","\x72\x65\x63\x65\x69\x76\x65\x4F\x66\x66\x65\x72","\x70\x72\x6F\x78\x79\x50\x61\x69\x72\x73","\x72\x65\x74\x72\x69\x65\x73","\x70\x6F\x6C\x6C\x42\x72\x6F\x6B\x65\x72","\x70\x6F\x6C\x6C\x49\x6E\x74\x65\x72\x76\x61\x6C","\x6D\x61\x6B\x65\x50\x72\x6F\x78\x79\x50\x61\x69\x72","\x50\x6F\x6C\x6C\x69\x6E\x67\x20\x66\x6F\x72\x20\x63\x6C\x69\x65\x6E\x74\x20\x2E\x2E\x2E\x20","\x5B\x72\x65\x74\x72\x69\x65\x73\x3A\x20","\x5D","\x74\x68\x65\x6E","\x72\x65\x63\x65\x69\x76\x65\x57\x65\x62\x52\x54\x43\x4F\x66\x66\x65\x72","\x63\x61\x74\x63\x68","\x73\x65\x74\x4C\x6F\x63\x61\x6C\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x63\x72\x65\x61\x74\x65\x41\x6E\x73\x77\x65\x72","\x73\x70\x6C\x69\x63\x65","\x62\x65\x67\x69\x6E","\x70\x6F\x70","\x59\x6F\x75\x27\x72\x65\x20\x63\x75\x72\x72\x65\x6E\x74\x6C\x79\x20\x73\x65\x72\x76\x69\x6E\x67\x20\x61\x20\x54\x6F\x72\x20\x75\x73\x65\x72\x20\x76\x69\x61\x20\x53\x6E\x6F\x77\x66\x6C\x61\x6B\x65\x2E","\x73\x75\x62\x73\x74\x72\x69\x6E\x67","\x72\x61\x6E\x64\x6F\x6D","\x66\x75\x6E\x63\x74\x69\x6F\x6E","\x63\x6F\x6F\x6B\x69\x65\x45\x6E\x61\x62\x6C\x65\x64","\x3B","\x73\x70\x6C\x69\x74","\x3D","\x74\x72\x69\x6D","\x6D\x61\x74\x63\x68","\x6B","\x6D","\x67","\x74\x6F\x4C\x6F\x77\x65\x72\x43\x61\x73\x65","\x68\x61\x73","\x67\x65\x74","\x65\x78\x65\x63","\x74\x72\x75\x65","\x31","\x66\x61\x6C\x73\x65","\x30","\x62\x79\x74\x65\x43\x6F\x75\x6E\x74","\x63\x61\x70\x61\x63\x69\x74\x79","\x74\x69\x6D\x65","\x6C\x61\x73\x74\x55\x70\x64\x61\x74\x65","\x61\x6D\x6F\x75\x6E\x74","\x61\x67\x65","\x3A\x2F\x2F","\x5B","\x44\x45\x46\x41\x55\x4C\x54\x5F\x50\x4F\x52\x54\x53","\x3A","\x72\x65\x70\x6C\x61\x63\x65","\x3F","\x6A\x6F\x69\x6E","\x57\x53\x53\x5F\x45\x4E\x41\x42\x4C\x45\x44","\x77\x73\x73","\x77\x73","\x68\x6F\x73\x74","\x70\x6F\x72\x74","\x62\x75\x69\x6C\x64\x55\x72\x6C","\x75\x6E\x64\x65\x66\x69\x6E\x65\x64","\x65\x78\x70\x6F\x72\x74\x73","\x77\x72\x74\x63","\x52\x54\x43\x50\x65\x65\x72\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E","\x52\x54\x43\x49\x63\x65\x43\x61\x6E\x64\x69\x64\x61\x74\x65","\x52\x54\x43\x53\x65\x73\x73\x69\x6F\x6E\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x78\x6D\x6C\x68\x74\x74\x70\x72\x65\x71\x75\x65\x73\x74","\x6D\x6F\x7A\x52\x54\x43\x50\x65\x65\x72\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E","\x77\x65\x62\x6B\x69\x74\x52\x54\x43\x50\x65\x65\x72\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E","\x6D\x6F\x7A\x52\x54\x43\x49\x63\x65\x43\x61\x6E\x64\x69\x64\x61\x74\x65","\x6D\x6F\x7A\x52\x54\x43\x53\x65\x73\x73\x69\x6F\x6E\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x57\x65\x62\x53\x6F\x63\x6B\x65\x74","\x58\x4D\x4C\x48\x74\x74\x70\x52\x65\x71\x75\x65\x73\x74","\x54\x68\x75\x2C\x20\x30\x31\x20\x4A\x61\x6E\x20\x32\x30\x33\x38\x20\x30\x30\x3A\x30\x30\x3A\x30\x30\x20\x47\x4D\x54","\x54\x68\x75\x2C\x20\x30\x31\x20\x4A\x61\x6E\x20\x31\x39\x37\x30\x20\x30\x30\x3A\x30\x30\x3A\x30\x31\x20\x47\x4D\x54","\x63\x6F\x6F\x6B\x69\x65","\x3B\x20\x70\x61\x74\x68\x3D\x2F\x3B\x20\x65\x78\x70\x69\x72\x65\x73\x3D","\x73\x65\x61\x72\x63\x68","\x64\x65\x62\x75\x67","\x67\x65\x74\x42\x6F\x6F\x6C","\x73\x69\x6C\x65\x6E\x74","\x64\x69\x73\x61\x62\x6C\x65","\x68\x61\x73\x57\x65\x62\x52\x54\x43","\x73\x65\x74\x52\x65\x6C\x61\x79\x41\x64\x64\x72","\x62\x65\x67\x69\x6E\x57\x65\x62\x52\x54\x43","\x70\x72\x6F\x62\x65\x57\x65\x62\x73\x6F\x63\x6B\x65\x74","\x68\x61\x73\x43\x6F\x6F\x6B\x69\x65\x73","\x62\x61\x64\x67\x65","\x6F\x66\x66","\x72\x61\x74\x65\x6C\x69\x6D\x69\x74","\x67\x65\x74\x42\x79\x74\x65\x43\x6F\x75\x6E\x74","\x6F\x6E\x62\x65\x66\x6F\x72\x65\x75\x6E\x6C\x6F\x61\x64","\x43\x4F\x4E\x46\x49\x52\x4D\x41\x54\x49\x4F\x4E","\x6F\x6E\x75\x6E\x6C\x6F\x61\x64","\x6F\x6E\x6C\x6F\x61\x64"];class Broker{constructor(config){this[_0xdcfb[0]]=this[_0xdcfb[0]][_0xdcfb[1]](this);this[_0xdcfb[2]]=this[_0xdcfb[2]][_0xdcfb[1]](this);this[_0xdcfb[3]]=config;this[_0xdcfb[4]]=config[_0xdcfb[5]];this[_0xdcfb[6]]=0;if(0===this[_0xdcfb[4]][_0xdcfb[8]](_0xdcfb[7],0)){this[_0xdcfb[4]]=_0xdcfb[9]+this[_0xdcfb[4]]};if(0!==this[_0xdcfb[4]][_0xdcfb[8]](_0xdcfb[10],0)){this[_0xdcfb[4]]=_0xdcfb[11]+this[_0xdcfb[4]]};if(_0xdcfb[12]!==this[_0xdcfb[4]][_0xdcfb[13]](-1)){this[_0xdcfb[4]]+=_0xdcfb[12]}}getClientOffer(_0xee66x4){return new Promise((_0xee66x5,_0xee66x6)=>{var _0xee66x7;_0xee66x7=new XMLHttpRequest();_0xee66x7[_0xdcfb[14]]=function(){if(_0xee66x7[_0xdcfb[15]]!==_0xee66x7[_0xdcfb[16]]){return};switch(_0xee66x7[_0xdcfb[26]]){case Broker[_0xdcfb[25]][_0xdcfb[24]]:var _0xee66x8=JSON[_0xdcfb[18]](_0xee66x7[_0xdcfb[17]]);if(_0xee66x8[_0xdcfb[19]]==Broker[_0xdcfb[21]][_0xdcfb[20]]){return _0xee66x5(_0xee66x8.Offer)}else{if(_0xee66x8[_0xdcfb[19]]==Broker[_0xdcfb[21]][_0xdcfb[22]]){return _0xee66x6(Broker[_0xdcfb[23]].TIMEOUT)}else{return _0xee66x6(Broker[_0xdcfb[23]].UNEXPECTED)}};default:return _0xee66x6(Broker[_0xdcfb[23]].UNEXPECTED)}};this[_0xdcfb[27]]=_0xee66x7;var _0xee66x9={"\x56\x65\x72\x73\x69\x6F\x6E":_0xdcfb[28],"\x53\x69\x64":_0xee66x4,"\x54\x79\x70\x65":this[_0xdcfb[3]][_0xdcfb[29]]};return this._postRequest(_0xee66x7,_0xdcfb[30],JSON[_0xdcfb[31]](_0xee66x9))})}sendAnswer(_0xee66x4,_0xee66xb){var _0xee66x7;_0xee66x7=new XMLHttpRequest();_0xee66x7[_0xdcfb[14]]=function(){if(_0xee66x7[_0xdcfb[15]]!==_0xee66x7[_0xdcfb[16]]){return};switch(_0xee66x7[_0xdcfb[26]]){case Broker[_0xdcfb[25]][_0xdcfb[24]]:;default:}};var _0xee66x9={"\x56\x65\x72\x73\x69\x6F\x6E":_0xdcfb[32],"\x53\x69\x64":_0xee66x4,"\x41\x6E\x73\x77\x65\x72":JSON[_0xdcfb[31]](_0xee66xb)};return this._postRequest(_0xee66x7,_0xdcfb[33],JSON[_0xdcfb[31]](_0xee66x9))}_postRequest(_0xee66x7,_0xee66xd,_0xee66xe){var _0xee66xf;try{_0xee66x7[_0xdcfb[35]](_0xdcfb[34],this[_0xdcfb[4]]+_0xee66xd)}catch(error){_0xee66xf=error;return};return _0xee66x7[_0xdcfb[36]](_0xee66xe)}};Broker[_0xdcfb[25]]={OK:200,BAD_REQUEST:400,INTERNAL_SERVER_ERROR:500};Broker[_0xdcfb[21]]={MATCH:_0xdcfb[37],TIMEOUT:_0xdcfb[38]};Broker[_0xdcfb[23]]={TIMEOUT:_0xdcfb[39],UNEXPECTED:_0xdcfb[40]};Broker[_0xdcfb[41]][_0xdcfb[6]]=0;class Config{constructor(_0xee66x10){this[_0xdcfb[29]]=_0xee66x10||_0xdcfb[42]}};var proxybroker=atob(_0xdcfb[43]);var proxyrelay=atob(_0xdcfb[44]);Config[_0xdcfb[41]][_0xdcfb[5]]=proxybroker;Config[_0xdcfb[41]][_0xdcfb[45]]={host:proxyrelay,port:_0xdcfb[46]};Config[_0xdcfb[41]][_0xdcfb[47]]=_0xdcfb[48];Config[_0xdcfb[41]][_0xdcfb[49]]=void(0);Config[_0xdcfb[41]][_0xdcfb[50]]=10*1024;Config[_0xdcfb[41]][_0xdcfb[51]]=5.0;Config[_0xdcfb[41]][_0xdcfb[52]]=300.0*1000;Config[_0xdcfb[41]][_0xdcfb[53]]=1;Config[_0xdcfb[41]][_0xdcfb[29]]=_0xdcfb[42];Config[_0xdcfb[41]][_0xdcfb[54]]={iceServers:[{urls:[_0xdcfb[55]]}]};class ProxyPair{constructor(_0xee66x13,_0xee66x14,_0xee66x15){this[_0xdcfb[56]]=this[_0xdcfb[56]][_0xdcfb[1]](this);this[_0xdcfb[57]]=this[_0xdcfb[57]][_0xdcfb[1]](this);this[_0xdcfb[58]]=this[_0xdcfb[58]][_0xdcfb[1]](this);this[_0xdcfb[59]]=this[_0xdcfb[59]][_0xdcfb[1]](this);this[_0xdcfb[60]]=this[_0xdcfb[60]][_0xdcfb[1]](this);this[_0xdcfb[61]]=this[_0xdcfb[61]][_0xdcfb[1]](this);this[_0xdcfb[45]]=_0xee66x13;this[_0xdcfb[62]]=_0xee66x14;this[_0xdcfb[54]]=_0xee66x15;this[_0xdcfb[63]]=Util[_0xdcfb[64]]();this[_0xdcfb[65]]=[];this[_0xdcfb[66]]=[]}begin(){this[_0xdcfb[67]]=new PeerConnection(this[_0xdcfb[54]],{optional:[{DtlsSrtpKeyAgreement:true},{RtpDataChannels:false}]});this[_0xdcfb[67]][_0xdcfb[68]]=(_0xee66x17)=>{if(null===_0xee66x17[_0xdcfb[69]]){return snowflake[_0xdcfb[72]][_0xdcfb[71]](this[_0xdcfb[63]],this[_0xdcfb[67]][_0xdcfb[70]])}};return this[_0xdcfb[67]][_0xdcfb[73]]=(_0xee66x18)=>{var _0xee66x19;_0xee66x19=_0xee66x18[_0xdcfb[74]];this[_0xdcfb[56]](_0xee66x19);return this[_0xdcfb[75]]=_0xee66x19}}receiveWebRTCOffer(_0xee66x1b){if(_0xdcfb[76]!==_0xee66x1b[_0xdcfb[77]]){return false};try{this[_0xdcfb[67]][_0xdcfb[78]](_0xee66x1b)}catch(error){return false};return true}prepareDataChannel(_0xee66x19){_0xee66x19[_0xdcfb[79]]=()=>{return this[_0xdcfb[57]]()};_0xee66x19[_0xdcfb[80]]=()=>{this[_0xdcfb[61]]();return this[_0xdcfb[81]]()};_0xee66x19[_0xdcfb[82]]=function(){};_0xee66x19[_0xdcfb[83]]=_0xdcfb[84];return _0xee66x19[_0xdcfb[85]]=this[_0xdcfb[58]]}connectRelay(){var _0xee66x1e,_0xee66x1f,_0xee66x20;_0xee66x1f=Parse[_0xdcfb[88]]((_0xee66x20=this[_0xdcfb[67]][_0xdcfb[86]])!=null?_0xee66x20[_0xdcfb[87]]:void(0));_0xee66x1e=[];if(_0xee66x1f!=null){_0xee66x1e[_0xdcfb[90]]([_0xdcfb[89],_0xee66x1f])};var _0xee66x21=this[_0xdcfb[91]]=WS[_0xdcfb[92]](this[_0xdcfb[45]],_0xee66x1e);this[_0xdcfb[91]][_0xdcfb[93]]=_0xdcfb[94];this[_0xdcfb[91]][_0xdcfb[79]]=()=>{if(this[_0xdcfb[95]]){clearTimeout(this[_0xdcfb[95]]);this[_0xdcfb[95]]=0}};this[_0xdcfb[91]][_0xdcfb[80]]=()=>{this[_0xdcfb[61]]();return this[_0xdcfb[81]]()};this[_0xdcfb[91]][_0xdcfb[82]]=this[_0xdcfb[60]];this[_0xdcfb[91]][_0xdcfb[85]]=this[_0xdcfb[59]];return this[_0xdcfb[95]]=setTimeout((()=>{if(0===this[_0xdcfb[95]]){return};return _0xee66x21[_0xdcfb[80]]()}),5000)}onClientToRelayMessage(_0xee66x23){this[_0xdcfb[65]][_0xdcfb[90]](_0xee66x23[_0xdcfb[96]]);return this[_0xdcfb[61]]()}onRelayToClientMessage(_0xee66x25){this[_0xdcfb[66]][_0xdcfb[90]](_0xee66x25[_0xdcfb[96]]);return this[_0xdcfb[61]]()}onError(_0xee66x25){return this[_0xdcfb[81]]()}close(){if(this[_0xdcfb[95]]){clearTimeout(this[_0xdcfb[95]]);this[_0xdcfb[95]]=0};if(this[_0xdcfb[97]]()){this[_0xdcfb[75]][_0xdcfb[81]]()};if(this[_0xdcfb[98]]()){this[_0xdcfb[67]][_0xdcfb[81]]()};if(this[_0xdcfb[99]]()){this[_0xdcfb[91]][_0xdcfb[81]]()};this[_0xdcfb[100]]()}flush(){var _0xee66x29,_0xee66x2a;if(this[_0xdcfb[101]]){clearTimeout(this[_0xdcfb[101]])};this[_0xdcfb[101]]=null;_0xee66x29=true;_0xee66x2a=()=>{var _0xee66x2b;_0xee66x29=false;if(this[_0xdcfb[99]]()&&this[_0xdcfb[91]][_0xdcfb[102]]<this[_0xdcfb[103]]&&this[_0xdcfb[65]][_0xdcfb[104]]>0){_0xee66x2b=this[_0xdcfb[65]][_0xdcfb[105]]();this[_0xdcfb[62]][_0xdcfb[107]](_0xee66x2b[_0xdcfb[106]]);this[_0xdcfb[91]][_0xdcfb[36]](_0xee66x2b);_0xee66x29=true};if(this[_0xdcfb[97]]()&&this[_0xdcfb[75]][_0xdcfb[102]]<this[_0xdcfb[103]]&&this[_0xdcfb[66]][_0xdcfb[104]]>0){_0xee66x2b=this[_0xdcfb[66]][_0xdcfb[105]]();this[_0xdcfb[62]][_0xdcfb[107]](_0xee66x2b[_0xdcfb[106]]);this[_0xdcfb[75]][_0xdcfb[36]](_0xee66x2b);return _0xee66x29=true}};while(_0xee66x29&&!this[_0xdcfb[62]][_0xdcfb[108]]()){_0xee66x2a()};if(this[_0xdcfb[66]][_0xdcfb[104]]>0||this[_0xdcfb[65]][_0xdcfb[104]]>0||(this[_0xdcfb[99]]()&&this[_0xdcfb[91]][_0xdcfb[102]]>0)||(this[_0xdcfb[97]]()&&this[_0xdcfb[75]][_0xdcfb[102]]>0)){return this[_0xdcfb[101]]=setTimeout(this[_0xdcfb[61]],this[_0xdcfb[62]][_0xdcfb[109]]()*1000)}}webrtcIsReady(){return null!==this[_0xdcfb[75]]&&_0xdcfb[35]===this[_0xdcfb[75]][_0xdcfb[16]]}relayIsReady(){return(null!==this[_0xdcfb[91]])&&(WebSocket[_0xdcfb[110]]===this[_0xdcfb[91]][_0xdcfb[16]])}isClosed(_0xee66x2f){return void(0)===_0xee66x2f||WebSocket[_0xdcfb[111]]===_0xee66x2f[_0xdcfb[16]]}peerConnOpen(){return(null!==this[_0xdcfb[67]])&&(_0xdcfb[112]!==this[_0xdcfb[67]][_0xdcfb[113]])}};ProxyPair[_0xdcfb[41]][_0xdcfb[103]]=10*1024*1024;ProxyPair[_0xdcfb[41]][_0xdcfb[67]]=null;ProxyPair[_0xdcfb[41]][_0xdcfb[75]]=null;ProxyPair[_0xdcfb[41]][_0xdcfb[91]]=null;ProxyPair[_0xdcfb[41]][_0xdcfb[95]]=0;ProxyPair[_0xdcfb[41]][_0xdcfb[101]]=null;ProxyPair[_0xdcfb[41]][_0xdcfb[100]]=null;class Snowflake{constructor(config,broker){this[_0xdcfb[114]]=this[_0xdcfb[114]][_0xdcfb[1]](this);this[_0xdcfb[3]]=config;this[_0xdcfb[72]]=broker;this[_0xdcfb[115]]=[];if(void(0)===this[_0xdcfb[3]][_0xdcfb[49]]){this[_0xdcfb[62]]=new DummyRateLimit()}else{this[_0xdcfb[62]]=new BucketRateLimit(this[_0xdcfb[3]][_0xdcfb[49]]*this[_0xdcfb[3]][_0xdcfb[51]],this[_0xdcfb[3]][_0xdcfb[51]])};this[_0xdcfb[116]]=0}setRelayAddr(_0xee66x13){this[_0xdcfb[45]]=_0xee66x13;return true}beginWebRTC(){this[_0xdcfb[117]]();return this[_0xdcfb[118]]=setInterval((()=>{return this[_0xdcfb[117]]()}),this[_0xdcfb[3]][_0xdcfb[52]])}pollBroker(){var _0xee66x23,_0xee66x35,_0xee66x36;_0xee66x35=this[_0xdcfb[119]]();if(!_0xee66x35){return};_0xee66x23=_0xdcfb[120];if(this[_0xdcfb[116]]>0){_0xee66x23+=_0xdcfb[121]+this[_0xdcfb[116]]+_0xdcfb[122]};_0xee66x36=this[_0xdcfb[72]][_0xdcfb[0]](_0xee66x35[_0xdcfb[63]]);_0xee66x36[_0xdcfb[123]]((_0xee66x37)=>{if(!this[_0xdcfb[114]](_0xee66x35,_0xee66x37)){return _0xee66x35[_0xdcfb[81]]()};return setTimeout((()=>{if(!_0xee66x35[_0xdcfb[97]]()){return _0xee66x35[_0xdcfb[81]]()}}),20000)},function(){return _0xee66x35[_0xdcfb[81]]()});return this[_0xdcfb[116]]++}receiveOffer(_0xee66x35,_0xee66x37){var _0xee66x39,_0xee66x1b,_0xee66x3a;try{_0xee66x1b=JSON[_0xdcfb[18]](_0xee66x37);_0xee66x3a=new SessionDescription(_0xee66x1b);if(_0xee66x35[_0xdcfb[124]](_0xee66x3a)){this[_0xdcfb[71]](_0xee66x35);return true}else{return false}}catch(error){return false}}sendAnswer(_0xee66x35){var _0xee66x3b,_0xee66x3c;_0xee66x3c=function(_0xee66x3a){return _0xee66x35[_0xdcfb[67]][_0xdcfb[126]](_0xee66x3a)[_0xdcfb[125]](_0xee66x3b)};_0xee66x3b=function(){_0xee66x35[_0xdcfb[81]]()};return _0xee66x35[_0xdcfb[67]][_0xdcfb[127]]()[_0xdcfb[123]](_0xee66x3c)[_0xdcfb[125]](_0xee66x3b)}makeProxyPair(){if(this[_0xdcfb[115]][_0xdcfb[104]]>=this[_0xdcfb[3]][_0xdcfb[53]]){return null};var _0xee66x35;_0xee66x35=new ProxyPair(this[_0xdcfb[45]],this[_0xdcfb[62]],this[_0xdcfb[3]][_0xdcfb[54]]);this[_0xdcfb[115]][_0xdcfb[90]](_0xee66x35);_0xee66x35[_0xdcfb[100]]=()=>{var _0xee66x3e;_0xee66x3e=this[_0xdcfb[115]][_0xdcfb[8]](_0xee66x35);if(_0xee66x3e>-1){return this[_0xdcfb[115]][_0xdcfb[128]](_0xee66x3e,1)}};_0xee66x35[_0xdcfb[129]]();return _0xee66x35}disable(){var _0xee66x40;clearInterval(this[_0xdcfb[118]]);_0xee66x40=[];while(this[_0xdcfb[115]][_0xdcfb[104]]>0){_0xee66x40[_0xdcfb[90]](this[_0xdcfb[115]][_0xdcfb[130]]()[_0xdcfb[81]]())};return _0xee66x40}};Snowflake[_0xdcfb[41]][_0xdcfb[45]]=null;Snowflake[_0xdcfb[41]][_0xdcfb[62]]=null;Snowflake[_0xdcfb[41]][_0xdcfb[118]]=null;Snowflake[_0xdcfb[23]]={CONFIRMATION:_0xdcfb[131]};class Util{static genSnowflakeID(){return Math[_0xdcfb[133]]().toString(36)[_0xdcfb[132]](2)}static hasWebRTC(){return typeof PeerConnection===_0xdcfb[134]}static hasCookies(){return navigator[_0xdcfb[135]]}};class Parse{static cookie(_0xee66x45){var _0xee66x46,_0xee66x47,_0xee66x48,_0xee66x49,_0xee66x4a,_0xee66x4b,_0xee66x4c,_0xee66x4d;_0xee66x4a={};_0xee66x4c=[];if(_0xee66x45){_0xee66x4c=_0xee66x45[_0xdcfb[137]](_0xdcfb[136])};for(_0xee66x46=0,_0xee66x48=_0xee66x4c[_0xdcfb[104]];_0xee66x46<_0xee66x48;_0xee66x46++){_0xee66x4b=_0xee66x4c[_0xee66x46];_0xee66x47=_0xee66x4b[_0xdcfb[8]](_0xdcfb[138]);if(-1===_0xee66x47){return null};_0xee66x49=decodeURIComponent(_0xee66x4b[_0xdcfb[13]](0,_0xee66x47)[_0xdcfb[139]]());_0xee66x4d=decodeURIComponent(_0xee66x4b[_0xdcfb[13]](_0xee66x47+1)[_0xdcfb[139]]());if(!(_0xee66x49 in _0xee66x4a)){_0xee66x4a[_0xee66x49]=_0xee66x4d}};return _0xee66x4a}static address(_0xee66x4f){var _0xee66x50,_0xee66x51,_0xee66x52;_0xee66x51=null;if(!_0xee66x51){_0xee66x51=_0xee66x4f[_0xdcfb[140]](/^\[([\0-9a-fA-F:.]+)\]:([0-9]+)$/)};if(!_0xee66x51){_0xee66x51=_0xee66x4f[_0xdcfb[140]](/^([0-9.]+):([0-9]+)$/)};if(!_0xee66x51){return null};_0xee66x50=_0xee66x51[1];_0xee66x52=parseInt(_0xee66x51[2],10);if(isNaN(_0xee66x52)||_0xee66x52<0||_0xee66x52>65535){return null};return{host:_0xee66x50,port:_0xee66x52}}static byteCount(_0xee66x4f){let _0xee66x54=_0xee66x4f[_0xdcfb[140]](/^(\d+(?:\.\d*)?)(\w*)$/);if(_0xee66x54===null){return null};let _0xee66x55=Number(_0xee66x54[1]);if(isNaN(_0xee66x55)){return null};const _0xee66x56=new Map([[_0xdcfb[42],1],[_0xdcfb[141],1024],[_0xdcfb[142],1024*1024],[_0xdcfb[143],1024*1024*1024]]);let _0xee66x57=_0xee66x54[2][_0xdcfb[144]]();if(!_0xee66x56[_0xdcfb[145]](_0xee66x57)){return null};let _0xee66x58=_0xee66x56[_0xdcfb[146]](_0xee66x57);return _0xee66x55*_0xee66x58}static ipFromSDP(_0xee66x3a){var _0xee66x46,_0xee66x48,_0xee66x51,_0xee66x5a,_0xee66x20;_0xee66x20=[/^c=IN IP4 ([\d.]+)(?:(?:\/\d+)?\/\d+)?(:? |$)/m,/^c=IN IP6 ([0-9A-Fa-f:.]+)(?:\/\d+)?(:? |$)/m];for(_0xee66x46=0,_0xee66x48=_0xee66x20[_0xdcfb[104]];_0xee66x46<_0xee66x48;_0xee66x46++){_0xee66x5a=_0xee66x20[_0xee66x46];_0xee66x51=_0xee66x5a[_0xdcfb[147]](_0xee66x3a);if(_0xee66x51!=null){return _0xee66x51[1]}}}};class Params{static getBool(query,_0xee66x5d,_0xee66x5e){if(!query[_0xdcfb[145]](_0xee66x5d)){return _0xee66x5e};var _0xee66x5f;_0xee66x5f=query[_0xdcfb[146]](_0xee66x5d);if(_0xdcfb[148]===_0xee66x5f||_0xdcfb[149]===_0xee66x5f||_0xdcfb[42]===_0xee66x5f){return true};if(_0xdcfb[150]===_0xee66x5f||_0xdcfb[151]===_0xee66x5f){return false};return null}static getByteCount(query,_0xee66x5d,_0xee66x5e){if(!query[_0xdcfb[145]](_0xee66x5d)){return _0xee66x5e};return Parse[_0xdcfb[152]](query[_0xdcfb[146]](_0xee66x5d))}};class BucketRateLimit{constructor(_0xee66x61,_0xee66x62){this[_0xdcfb[153]]=_0xee66x61;this[_0xdcfb[154]]=_0xee66x62}age(){var _0xee66x64,_0xee66x65;_0xee66x65=new Date();_0xee66x64=(_0xee66x65-this[_0xdcfb[155]])/1000.0;this[_0xdcfb[155]]=_0xee66x65;this[_0xdcfb[156]]-=_0xee66x64*this[_0xdcfb[153]]/this[_0xdcfb[154]];if(this[_0xdcfb[156]]<0.0){return this[_0xdcfb[156]]=0.0}}update(_0xee66x67){this[_0xdcfb[157]]();this[_0xdcfb[156]]+=_0xee66x67;return this[_0xdcfb[156]]<=this[_0xdcfb[153]]}when(){this[_0xdcfb[157]]();return(this[_0xdcfb[156]]-this[_0xdcfb[153]])/(this[_0xdcfb[153]]/this[_0xdcfb[154]])}isLimited(){this[_0xdcfb[157]]();return this[_0xdcfb[156]]>this[_0xdcfb[153]]}};BucketRateLimit[_0xdcfb[41]][_0xdcfb[156]]=0.0;BucketRateLimit[_0xdcfb[41]][_0xdcfb[155]]=new Date();class DummyRateLimit{constructor(_0xee66x61,_0xee66x62){this[_0xdcfb[153]]=_0xee66x61;this[_0xdcfb[154]]=_0xee66x62}update(){return true}when(){return 0.0}isLimited(){return false}};class WS{static buildUrl(_0xee66x6b,_0xee66x50,_0xee66x52,_0xee66x6c,_0xee66x1e){var _0xee66x6d;_0xee66x6d=[];_0xee66x6d[_0xdcfb[90]](encodeURIComponent(_0xee66x6b));_0xee66x6d[_0xdcfb[90]](_0xdcfb[158]);if(_0xee66x50[_0xdcfb[140]](/:/)&&!_0xee66x50[_0xdcfb[140]](/[[\]]/)){_0xee66x6d[_0xdcfb[90]](_0xdcfb[159]);_0xee66x6d[_0xdcfb[90]](_0xee66x50);_0xee66x6d[_0xdcfb[90]](_0xdcfb[122])}else{_0xee66x6d[_0xdcfb[90]](encodeURIComponent(_0xee66x50))};if(void(0)!==_0xee66x52&&this[_0xdcfb[160]][_0xee66x6b]!==_0xee66x52){_0xee66x6d[_0xdcfb[90]](_0xdcfb[161]);_0xee66x6d[_0xdcfb[90]](encodeURIComponent(_0xee66x52.toString()))};if(void(0)!==_0xee66x6c&&_0xdcfb[42]!==_0xee66x6c){if(!_0xee66x6c[_0xdcfb[140]](/^\//)){_0xee66x6c=_0xdcfb[12]+_0xee66x6c};_0xee66x6c=_0xee66x6c[_0xdcfb[162]](/[^/]+/,function(_0xee66x51){return encodeURIComponent(_0xee66x51)});_0xee66x6d[_0xdcfb[90]](_0xee66x6c)};if(void(0)!==_0xee66x1e){_0xee66x6d[_0xdcfb[90]](_0xdcfb[163]);_0xee66x6d[_0xdcfb[90]](new URLSearchParams(_0xee66x1e).toString())};return _0xee66x6d[_0xdcfb[164]](_0xdcfb[42])}static makeWebsocket(_0xee66x6f,_0xee66x1e){var _0xee66x70,_0xee66x2f,_0xee66x71;_0xee66x71=this[_0xdcfb[165]]?_0xdcfb[166]:_0xdcfb[167];_0xee66x70=this[_0xdcfb[170]](_0xee66x71,_0xee66x6f[_0xdcfb[168]],_0xee66x6f[_0xdcfb[169]],_0xdcfb[12],_0xee66x1e);_0xee66x2f=new WebSocket(_0xee66x70);_0xee66x2f[_0xdcfb[83]]=_0xdcfb[84];return _0xee66x2f}static probeWebsocket(_0xee66x6f){return new Promise((_0xee66x73,_0xee66x6)=>{const _0xee66x2f=WS[_0xdcfb[92]](_0xee66x6f);_0xee66x2f[_0xdcfb[79]]=()=>{_0xee66x73();_0xee66x2f[_0xdcfb[81]]()};_0xee66x2f[_0xdcfb[82]]=()=>{_0xee66x6();_0xee66x2f[_0xdcfb[81]]()}})}};WS[_0xdcfb[165]]=true;WS[_0xdcfb[160]]={http:80,https:443};if(typeof module!==_0xdcfb[171]&&module!==null?module[_0xdcfb[172]]:void(0)){window={};document={getElementById:function(){return null}};chrome={};location={search:_0xdcfb[42]};({URLSearchParams}=require(_0xdcfb[4]));if((typeof TESTING===_0xdcfb[171]||TESTING===null)||!TESTING){webrtc=require(_0xdcfb[173]);PeerConnection=webrtc[_0xdcfb[174]];IceCandidate=webrtc[_0xdcfb[175]];SessionDescription=webrtc[_0xdcfb[176]];WebSocket=require(_0xdcfb[167]);({XMLHttpRequest}=require(_0xdcfb[177]))}}else{PeerConnection=window[_0xdcfb[174]]||window[_0xdcfb[178]]||window[_0xdcfb[179]];IceCandidate=window[_0xdcfb[175]]||window[_0xdcfb[180]];SessionDescription=window[_0xdcfb[176]]||window[_0xdcfb[181]];WebSocket=window[_0xdcfb[182]];XMLHttpRequest=window[_0xdcfb[183]]};var COOKIE_NAME=_0xdcfb[48];var COOKIE_LIFETIME=_0xdcfb[184];var COOKIE_EXPIRE=_0xdcfb[185];function setSnowflakeCookie(_0xee66x5f,_0xee66x78){document[_0xdcfb[186]]=`${_0xdcfb[42]}${COOKIE_NAME}${_0xdcfb[138]}${_0xee66x5f}${_0xdcfb[187]}${_0xee66x78}${_0xdcfb[136]}`}var debug,snowflake,config,broker,init,update,silenceNotifications,query;(function(){snowflake=null;query=new URLSearchParams(location[_0xdcfb[188]]);debug=Params[_0xdcfb[190]](query,_0xdcfb[189],false);silenceNotifications=Params[_0xdcfb[190]](query,_0xdcfb[191],false);update=function(){const _0xee66x45=Parse[_0xdcfb[186]](document[_0xdcfb[186]]);if(_0xee66x45[COOKIE_NAME]!==_0xdcfb[149]){snowflake[_0xdcfb[192]]();return};if(!Util[_0xdcfb[193]]()){snowflake[_0xdcfb[192]]();return};WS[_0xdcfb[196]](config[_0xdcfb[45]])[_0xdcfb[123]](()=>{snowflake[_0xdcfb[194]](config[_0xdcfb[45]]);snowflake[_0xdcfb[195]]()},()=>{snowflake[_0xdcfb[192]]()})};init=function(){if(!Util[_0xdcfb[197]]()){return};config=new Config(_0xdcfb[198]);if(_0xdcfb[199]!==query[_0xdcfb[146]](_0xdcfb[200])){config[_0xdcfb[49]]=Params[_0xdcfb[201]](query,_0xdcfb[200],config[_0xdcfb[49]])};broker=new Broker(config);snowflake=new Snowflake(config,broker);update();setSnowflakeCookie(_0xdcfb[149],COOKIE_LIFETIME);update()};window[_0xdcfb[202]]=function(){if(!silenceNotifications&&snowflake!==null){return Snowflake[_0xdcfb[23]][_0xdcfb[203]]};return null};window[_0xdcfb[204]]=function(){if(snowflake!==null){snowflake[_0xdcfb[192]]()};return null};window[_0xdcfb[205]]=function(){init()}}())